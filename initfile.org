* Introduction

This file contains a first attempt at organizing the loading code for emacs in order to make maintaining repos of the emacs config easier.
* Pre-config

#+begin_src emacs-lisp :tangle yes

	  (setq package-list '(el-get magit dash dash-functional
			       which-key org-journal xah-fly-keys
			       ob-ipython conda clojure-mode cl leuven-theme
			       cider 4clojure sourcerer-theme zenburn-theme
			       golden-ratio org-brain sublime-themes
			       material-theme))


(require 'package) ;; You might already have this line
(let* ((no-ssl (and (memq system-type '(windows-nt ms-dos))
                    (not (gnutls-available-p))))
       (url (concat (if no-ssl "http" "https") "://melpa.org/packages/")))
  (add-to-list 'package-archives (cons "melpa" url) t))
(when (< emacs-major-version 24)
  ;; For important compatibility libraries like cl-lib
  (add-to-list 'package-archives '("gnu" . "http://elpa.gnu.org/packages/")))
(package-initialize) ;; You might already have this line


	  ; fetch the list of packages available 
	  (unless package-archive-contents
	    (package-refresh-contents))

	  ; install the missing packages
	  (dolist (package package-list)
	    (unless (package-installed-p package)
	      (package-install package)))

#+end_src

* Config
Loading keybindings, organizational, and language specific code
** Keybindings

#+begin_src emacs-lisp :tangle yes
;; Xah-Fly-Keys setup
(add-to-list 'load-path "~/.emacs.d/lisp/")
(require 'xah-fly-keys)
(xah-fly-keys-set-layout "qwerty") ; required if you use qwerty
(xah-fly-keys 1)

#+end_src

** Org-mode/org-brain

#+begin_src emacs-lisp :tangle yes

; org-agenda

(require 'org)
(define-key global-map "\C-cl" 'org-store-link)
(define-key global-map "\C-ca" 'org-agenda)
(setq org-log-done t)
(setq org-agenda-files (list "~/org/work.org"
                             "~/org/programming-math.org" 
                             "~/org/built-environments.org"
			     "~/org/personal.org"))




; org-journal
(require 'org-journal)
(setq org-journal-dir "~/journal")

#+end_src

** Python
#+begin_src emacs-lisp :tangle yes
;; ob-ipython
(org-babel-do-load-languages
 'org-babel-load-languages
 '((ipython . t)
   (clojure . t)
   (python . t)))

(require 'ob-ipython)
(setq ob-ipython-command "jupyter console")




;(require 'conda)

;; changing default conda path


;; if you want interactive shell support, include:
;(conda-env-initialize-interactive-shells)
;; if you want eshell support, include:
;(conda-env-initialize-eshell)
;; if you want auto-activation (see below for details), include:
;(conda-env-autoactivate-mode t)

#+end_src

** Clojure
# #+begin_src emacs-lisp :tangle yes
# ; ob-clojure
# (setq org-babel-clojure-backend 'cider)
# (require 'ob-clojure)
# (require 'cider)

# #+end_src

* Appearance
Adjusting the visual styling.

#+begin_src emacs-lisp :tangle yes

;; Enabling the theme
(load-theme 'material t)

;; Setting font and line-height defaults

(require 'golden-ratio)
(golden-ratio-mode 1)
(setq golden-ratio-auto-scale t)

;; Disable the menu bar
(tool-bar-mode -1)

;; changing fonts for org-mode


(set-face-font 'fixed-pitch "Fira Mono-13")
(set-face-font 'variable-pitch "Archivo-12")


  (defun set-buffer-variable-pitch ()
    (interactive)
    (variable-pitch-mode t)
    (setq line-spacing 3)
     (set-face-attribute 'org-table nil :inherit 'fixed-pitch)
     (set-face-attribute 'org-code nil :inherit 'fixed-pitch)
     (set-face-attribute 'org-block-begin-line nil :inherit 'fixed-pitch)
     (set-face-attribute 'org-block-end-line nil :inherit 'fixed-pitch)
     (set-face-attribute 'org-block nil :inherit 'fixed-pitch)
    )

  (add-hook 'org-mode-hook 'set-buffer-variable-pitch)
  (add-hook 'eww-mode-hook 'set-buffer-variable-pitch)
  (add-hook 'markdown-mode-hook 'set-buffer-variable-pitch)
  (add-hook 'Info-mode-hook 'set-buffer-variable-pitch)

(setq line-spacing 0.25)

; Org-mode indentation
(with-eval-after-load 'org       
  (add-hook 'org-mode-hook #'visual-line-mode))


#+end_src

And that's it!
